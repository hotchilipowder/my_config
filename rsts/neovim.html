<!DOCTYPE html>
<html lang="zh" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Neovim and Tmux - My Dev Config</title><link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="Awesome Git" href="git.html" /><link rel="prev" title="Welcome to My Dev Config&#39;s documentation!" href="../index.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=83eaa723" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Neovim and Tmux"/>
<meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="/my_config">
      <img class="light-logo" src="../_static/my_config.png" alt="My Dev Config" height="28" loading="lazy" />
      <img class="dark-logo" src="../_static/my_config_dark.png" alt="My Dev Config" height="28" loading="lazy" />
      <strong>My Dev Config</strong>
    </a>
    <div class="sy-head-nav" id="HeadNav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="搜索" />
  <kbd>/</kbd>
</form><div class="sy-head-socials">
  <a href="https://github.com/hotchilipowder/my_config" aria-label="GitHub">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </a></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="切换到亮色模式"
data-aria-light="切换到暗色模式"
data-aria-dark="切换到自动模式">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="HeadNav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Neovim and Tmux</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Awesome Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Dockers</a></li>
<li class="toctree-l1"><a class="reference internal" href="snippets.html">Snippets System</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="homelab.html">HomeLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookiecutter.html">Cookiecutter</a></li>
<li class="toctree-l1"><a class="reference internal" href="tikz.html">Tikz Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>该页内容</h3><ul>
<li><a class="reference internal" href="#install-neovim">Install Neovim</a></li>
<li><a class="reference internal" href="#install-tmux">Install Tmux</a></li>
<li><a class="reference internal" href="#why-neovim-instead-of-vim">Why Neovim instead of Vim</a></li>
<li><a class="reference internal" href="#why-tmux-instead-of-zellij">Why tmux instead of Zellij</a></li>
<li><a class="reference internal" href="#tmux-with-neovim">Tmux with Neovim</a></li>
<li><a class="reference internal" href="#awesome-neovim-plugins">Awesome Neovim Plugins</a><ul>
<li><a class="reference internal" href="#id4">vim-tmux-navigator</a></li>
<li><a class="reference internal" href="#bufferline-nvim">bufferline.nvim</a></li>
<li><a class="reference internal" href="#alpha-nvim">alpha-nvim</a></li>
<li><a class="reference internal" href="#tpope">tpope&#22823;&#20332;&#31995;&#21015;</a></li>
<li><a class="reference internal" href="#id7">toggleterm.nvim</a></li>
<li><a class="reference internal" href="#nvim-tree-lua">nvim-tree.lua</a></li>
<li><a class="reference internal" href="#symbols-outline">Symbols-outline</a></li>
<li><a class="reference internal" href="#which-key">Which-key</a></li>
<li><a class="reference internal" href="#gitsigns-nvim">gitsigns.nvim</a></li>
<li><a class="reference internal" href="#null-ls">null-ls</a></li>
</ul>
</li>
<li><a class="reference internal" href="#neovim-fonts">Neovim Fonts</a></li>
<li><a class="reference internal" href="#updates-for-null-ls">Updates for null-ls</a></li>
<li><a class="reference internal" href="#why-not-coc-nvim">Why not coc.nvim</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</div><a class="js-repo-stats repo-stats flex items-center" href="https://github.com/hotchilipowder/my_config"
  data-type="github" data-user="hotchilipowder" data-repo="my_config">
  <span class="w-8 flex items-center justify-around shrink-0 text-3xl">
    <iconify-icon icon="simple-icons:github"></iconify-icon>
  </span>
  <span class="flex-grow px-2 break-all">
    <span>hotchilipowder/my_config</span>
    <span class="flex text-sm repo-stats-count">
      <span class="flex items-center pr-3">
        <iconify-icon icon="lucide:star"></iconify-icon>
        <strong class="js-repo-stars ml-1">0</strong>
      </span>
      <span class="flex items-center">
        <iconify-icon icon="lucide:git-fork"></iconify-icon>
        <strong class="js-repo-forks ml-1">0</strong>
      </span>
    </span>
  </span>
</a><div class="edit-this-page">
  <a href="https://github.com/hotchilipowder/my_config/blob/master/docs/rsts/neovim.rst">编辑此页面</a>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6"><div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">My Dev Config</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Neovim and Tmux</strong>
        <meta itemprop="position" content="2" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="neovim-and-tmux">
<h1>Neovim and Tmux<a class="headerlink" href="#neovim-and-tmux" title="Link to this heading">¶</a></h1>
<section id="install-neovim">
<h2>Install Neovim<a class="headerlink" href="#install-neovim" title="Link to this heading">¶</a></h2>
</section>
<section id="install-tmux">
<h2>Install Tmux<a class="headerlink" href="#install-tmux" title="Link to this heading">¶</a></h2>
</section>
<section id="why-neovim-instead-of-vim">
<h2>Why Neovim instead of Vim<a class="headerlink" href="#why-neovim-instead-of-vim" title="Link to this heading">¶</a></h2>
<p>其实本人之前一直是使用<code class="docutils literal notranslate"><span class="pre">vim</span></code>的，而后被<code class="docutils literal notranslate"><span class="pre">neovim</span></code>的速度所吸引。
在无痛切换到nvim之后，最后实在是忍不住切换到<code class="docutils literal notranslate"><span class="pre">init.lua</span></code>。
总体而言，比较讨厌写多个文件，喜欢使用<code class="code docutils literal notranslate"><span class="pre">&lt;Space&gt;fed</span></code>去打开配置文件，然后复制粘贴即可。</p>
<p>有许多关于使用plug文件夹和多个不同插件配置的方式，我个人不是很喜欢。
我更喜欢<a class="reference external" href="https://github.com/nvim-lua/kickstart.nvim">kickstart.nvim</a>这样的方式。</p>
<p>由于 <a class="reference internal" href="#kickstart" id="id1"><span>[kickstart]</span></a> 使用的 <a class="reference internal" href="#lazy-nvim" id="id2"><span>[lazy.nvim]</span></a>, 所以也就切换到了 <a class="reference internal" href="#lazy-nvim" id="id3"><span>[lazy.nvim]</span></a></p>
<p>具体的配置如下：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">mkdir<span class="w"> </span>-p<span class="w"> </span>~/.config/nvim
</span><span data-line="2">curl<span class="w"> </span>-SL<span class="w"> </span>https://raw.githubusercontent.com/hotchilipowder/my_config/main/nvim/init.lua<span class="w"> </span>-o<span class="w"> </span>~/.config/nvim/init.lua
</span></pre></div>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">~/.config/nvim/init.lua</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="cm">--[[</span>
</span><span data-line="2"><span class="cm">Author: hotchilipowder</span>
</span><span data-line="3"><span class="cm">--]]</span>
</span><span data-line="4">
</span><span data-line="5"><span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">mapleader</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
</span><span data-line="6"><span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">maplocalleader</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
</span><span data-line="7">
</span><span data-line="8"><span class="c1">-- [[ Setting options ]]</span>
</span><span data-line="9"><span class="c1">-- See `:help vim.o`</span>
</span><span data-line="10"><span class="c1">--</span>
</span><span data-line="11"><span class="n">vim</span><span class="p">.</span><span class="n">wo</span><span class="p">.</span><span class="n">foldmethod</span> <span class="o">=</span> <span class="s2">&quot;manual&quot;</span>
</span><span data-line="12">
</span><span data-line="13"><span class="c1">-- Set highlight on search</span>
</span><span data-line="14"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">hlsearch</span> <span class="o">=</span> <span class="kc">false</span>
</span><span data-line="15">
</span><span data-line="16"><span class="c1">-- Make line numbers default</span>
</span><span data-line="17"><span class="n">vim</span><span class="p">.</span><span class="n">wo</span><span class="p">.</span><span class="n">number</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="18">
</span><span data-line="19"><span class="c1">-- Enable mouse mode</span>
</span><span data-line="20"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">mouse</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>
</span><span data-line="21">
</span><span data-line="22"><span class="c1">-- Sync clipboard between OS and Neovim.</span>
</span><span data-line="23"><span class="c1">--  Remove this option if you want your OS clipboard to remain independent.</span>
</span><span data-line="24"><span class="c1">--  See `:help &#39;clipboard&#39;`</span>
</span><span data-line="25"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">clipboard</span> <span class="o">=</span> <span class="s2">&quot;unnamedplus&quot;</span>
</span><span data-line="26">
</span><span data-line="27"><span class="c1">-- Enable break indent</span>
</span><span data-line="28"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">breakindent</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="29">
</span><span data-line="30"><span class="c1">-- Save undo history</span>
</span><span data-line="31"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">undofile</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="32">
</span><span data-line="33"><span class="c1">-- Case insensitive searching UNLESS /C or capital in search</span>
</span><span data-line="34"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">ignorecase</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="35"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">smartcase</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="36">
</span><span data-line="37"><span class="c1">-- Keep signcolumn on by default</span>
</span><span data-line="38"><span class="n">vim</span><span class="p">.</span><span class="n">wo</span><span class="p">.</span><span class="n">signcolumn</span> <span class="o">=</span> <span class="s2">&quot;yes&quot;</span>
</span><span data-line="39">
</span><span data-line="40"><span class="c1">-- Decrease update time</span>
</span><span data-line="41"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">updatetime</span> <span class="o">=</span> <span class="mi">250</span>
</span><span data-line="42"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="43"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">timeoutlen</span> <span class="o">=</span> <span class="mi">300</span>
</span><span data-line="44">
</span><span data-line="45"><span class="c1">-- Set completeopt to have a better completion experience</span>
</span><span data-line="46"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">completeopt</span> <span class="o">=</span> <span class="s2">&quot;menuone,noselect&quot;</span>
</span><span data-line="47">
</span><span data-line="48"><span class="c1">-- NOTE: You should make sure your terminal supports this</span>
</span><span data-line="49"><span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">termguicolors</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="50">
</span><span data-line="51"><span class="c1">-- [[ Basic Keymaps ]]</span>
</span><span data-line="52">
</span><span data-line="53"><span class="c1">-- Keymaps for better default experience</span>
</span><span data-line="54"><span class="c1">-- See `:help vim.keymap.set()`</span>
</span><span data-line="55"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">({</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span> <span class="p">},</span> <span class="s2">&quot;&lt;Space&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Nop&gt;&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">silent</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">})</span>
</span><span data-line="56">
</span><span data-line="57"><span class="c1">-- Remap for dealing with word wrap</span>
</span><span data-line="58"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;v:count == 0 ? &#39;gk&#39; : &#39;k&#39;&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">expr</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">silent</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">})</span>
</span><span data-line="59"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">,</span> <span class="s2">&quot;v:count == 0 ? &#39;gj&#39; : &#39;j&#39;&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">expr</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">silent</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">})</span>
</span><span data-line="60">
</span><span data-line="61"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;fed&quot;</span><span class="p">,</span> <span class="s2">&quot;:e ~/.config/nvim/init.lua&lt;cr&gt;&quot;</span><span class="p">)</span>
</span><span data-line="62"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;ws&quot;</span><span class="p">,</span> <span class="s2">&quot;:split&lt;Return&gt;&lt;C-w&gt;w&quot;</span><span class="p">)</span>
</span><span data-line="63"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wv&quot;</span><span class="p">,</span> <span class="s2">&quot;:vsplit&lt;Return&gt;&lt;C-w&gt;w&quot;</span><span class="p">)</span>
</span><span data-line="64"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wh&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;h&quot;</span><span class="p">)</span>
</span><span data-line="65"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wk&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;k&quot;</span><span class="p">)</span>
</span><span data-line="66"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wj&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;j&quot;</span><span class="p">)</span>
</span><span data-line="67"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wl&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;l&quot;</span><span class="p">)</span>
</span><span data-line="68"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;wq&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;q&quot;</span><span class="p">)</span>
</span><span data-line="69">
</span><span data-line="70"><span class="c1">-- this code is from old config, and translated by chatgpt</span>
</span><span data-line="71"><span class="n">_G</span><span class="p">.</span><span class="n">buf_read_post</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="72">	<span class="kd">local</span> <span class="n">line</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_eval</span><span class="p">(</span><span class="s">[[line(&quot;&#39;\&quot;&quot;)]]</span><span class="p">)</span>
</span><span data-line="73">	<span class="kd">local</span> <span class="n">last_line</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_eval</span><span class="p">(</span><span class="s">[[line(&quot;$&quot;)]]</span><span class="p">)</span>
</span><span data-line="74">
</span><span data-line="75">	<span class="kr">if</span> <span class="n">line</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">line</span> <span class="o">&lt;=</span> <span class="n">last_line</span> <span class="kr">then</span>
</span><span data-line="76">		<span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_exec</span><span class="p">(</span><span class="s1">&#39;normal! g`&quot;&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</span><span data-line="77">	<span class="kr">end</span>
</span><span data-line="78"><span class="kr">end</span>
</span><span data-line="79">
</span><span data-line="80"><span class="kr">if</span> <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">has</span><span class="p">(</span><span class="s2">&quot;autocmd&quot;</span><span class="p">)</span> <span class="kr">then</span>
</span><span data-line="81">	<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;augroup VimrcBufReadPost&quot;</span><span class="p">)</span>
</span><span data-line="82">	<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;autocmd! BufReadPost * lua _G.buf_read_post()&quot;</span><span class="p">)</span>
</span><span data-line="83">	<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;augroup END&quot;</span><span class="p">)</span>
</span><span data-line="84"><span class="kr">end</span>
</span><span data-line="85">
</span><span data-line="86"><span class="c1">-- Install package manager</span>
</span><span data-line="87"><span class="c1">--    https://github.com/folke/lazy.nvim</span>
</span><span data-line="88"><span class="c1">--    `:help lazy.nvim.txt` for more info</span>
</span><span data-line="89"><span class="kd">local</span> <span class="n">lazypath</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">stdpath</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="o">..</span> <span class="s2">&quot;/lazy/lazy.nvim&quot;</span>
</span><span data-line="90"><span class="kr">if</span> <span class="ow">not</span> <span class="n">vim</span><span class="p">.</span><span class="n">loop</span><span class="p">.</span><span class="n">fs_stat</span><span class="p">(</span><span class="n">lazypath</span><span class="p">)</span> <span class="kr">then</span>
</span><span data-line="91">	<span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">system</span><span class="p">({</span>
</span><span data-line="92">		<span class="s2">&quot;git&quot;</span><span class="p">,</span>
</span><span data-line="93">		<span class="s2">&quot;clone&quot;</span><span class="p">,</span>
</span><span data-line="94">		<span class="s2">&quot;--filter=blob:none&quot;</span><span class="p">,</span>
</span><span data-line="95">		<span class="s2">&quot;https://github.com/folke/lazy.nvim.git&quot;</span><span class="p">,</span>
</span><span data-line="96">		<span class="s2">&quot;--branch=stable&quot;</span><span class="p">,</span> <span class="c1">-- latest stable release</span>
</span><span data-line="97">		<span class="n">lazypath</span><span class="p">,</span>
</span><span data-line="98">	<span class="p">})</span>
</span><span data-line="99"><span class="kr">end</span>
</span><span data-line="100"><span class="n">vim</span><span class="p">.</span><span class="n">opt</span><span class="p">.</span><span class="n">rtp</span><span class="p">:</span><span class="n">prepend</span><span class="p">(</span><span class="n">lazypath</span><span class="p">)</span>
</span><span data-line="101">
</span><span data-line="102"><span class="c1">-- NOTE: Here is where you install your plugins.</span>
</span><span data-line="103"><span class="c1">--  You can configure plugins using the `config` key.</span>
</span><span data-line="104"><span class="c1">--</span>
</span><span data-line="105"><span class="c1">--  You can also configure plugins after the setup call,</span>
</span><span data-line="106"><span class="c1">--    as they will be available in your neovim runtime.</span>
</span><span data-line="107"><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;lazy&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="108">	<span class="c1">-- NOTE: First, some plugins that don&#39;t require any configuration</span>
</span><span data-line="109">
</span><span data-line="110">	<span class="s2">&quot;lervag/vimtex&quot;</span><span class="p">,</span>
</span><span data-line="111">	<span class="p">{</span>
</span><span data-line="112">		<span class="s2">&quot;ojroques/vim-oscyank&quot;</span><span class="p">,</span>
</span><span data-line="113">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="114">			<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;y&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;:OSCYankVisual&lt;CR&gt;&quot;</span><span class="p">)</span>
</span><span data-line="115">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="116">	<span class="p">},</span>
</span><span data-line="117">	<span class="p">{</span>
</span><span data-line="118">		<span class="s2">&quot;christoomey/vim-tmux-navigator&quot;</span><span class="p">,</span>
</span><span data-line="119">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="120">			<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">tmux_navigator_no_mappings</span> <span class="o">=</span> <span class="mi">1</span>
</span><span data-line="121">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="122">		<span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="123">			<span class="p">{</span> <span class="s2">&quot;&lt;C-h&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;:&lt;C-U&gt;TmuxNavigateLeft&lt;cr&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="124">			<span class="p">{</span> <span class="s2">&quot;&lt;C-j&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;:&lt;C-U&gt;TmuxNavigateDown&lt;cr&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="125">			<span class="p">{</span> <span class="s2">&quot;&lt;C-k&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;:&lt;C-U&gt;TmuxNavigateUp&lt;cr&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="126">			<span class="p">{</span> <span class="s2">&quot;&lt;C-l&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;:&lt;C-U&gt;TmuxNavigateRight&lt;cr&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="127">		<span class="p">},</span>
</span><span data-line="128">	<span class="p">},</span>
</span><span data-line="129">	<span class="p">{</span>
</span><span data-line="130">		<span class="s2">&quot;akinsho/bufferline.nvim&quot;</span><span class="p">,</span>
</span><span data-line="131">		<span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span data-line="132">		<span class="n">dependencies</span> <span class="o">=</span> <span class="s2">&quot;nvim-tree/nvim-web-devicons&quot;</span><span class="p">,</span>
</span><span data-line="133">		<span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="134">			<span class="p">{</span> <span class="s2">&quot;&lt;Tab&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineCycleNext&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="135">			<span class="p">{</span> <span class="s2">&quot;&lt;S-Tab&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineCyclePrev&lt;CR&gt;&quot;</span><span class="p">,</span> <span class="p">{}</span> <span class="p">},</span>
</span><span data-line="136">			<span class="p">{</span> <span class="s2">&quot;&lt;Space&gt;&lt;Right&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineCloseRight&lt;CR&gt;&quot;</span><span class="p">,</span> <span class="p">{}</span> <span class="p">},</span>
</span><span data-line="137">			<span class="p">{</span> <span class="s2">&quot;&lt;Space&gt;q&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;:bp &lt;BAR&gt; bd #&lt;CR&gt;&quot;</span><span class="p">,</span> <span class="p">{}</span> <span class="p">},</span>
</span><span data-line="138">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;1&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 1&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="139">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;2&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 2&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="140">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;3&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 3&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="141">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;4&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 4&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="142">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;5&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 5&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="143">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;6&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 6&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="144">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;7&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 7&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="145">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;8&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 8&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="146">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;9&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer 9&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="147">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;$&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;Cmd&gt;BufferLineGoToBuffer -1&lt;CR&gt;&quot;</span> <span class="p">},</span>
</span><span data-line="148">		<span class="p">},</span>
</span><span data-line="149">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="150">			<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;bufferline&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">()</span>
</span><span data-line="151">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="152">	<span class="p">},</span>
</span><span data-line="153">	<span class="p">{</span>
</span><span data-line="154">		<span class="s2">&quot;goolord/alpha-nvim&quot;</span><span class="p">,</span>
</span><span data-line="155">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;nvim-tree/nvim-web-devicons&quot;</span> <span class="p">},</span>
</span><span data-line="156">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="157">			<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;alpha&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">(</span><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;alpha.themes.startify&quot;</span><span class="p">).</span><span class="n">config</span><span class="p">)</span>
</span><span data-line="158">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="159">	<span class="p">},</span>
</span><span data-line="160">
</span><span data-line="161">	<span class="s2">&quot;tpope/vim-surround&quot;</span><span class="p">,</span>
</span><span data-line="162">	<span class="c1">-- Git related plugins</span>
</span><span data-line="163">	<span class="s2">&quot;tpope/vim-fugitive&quot;</span><span class="p">,</span>
</span><span data-line="164">	<span class="s2">&quot;tpope/vim-rhubarb&quot;</span><span class="p">,</span>
</span><span data-line="165">	<span class="c1">-- Detect tabstop and shiftwidth automatically</span>
</span><span data-line="166">	<span class="s2">&quot;tpope/vim-sleuth&quot;</span><span class="p">,</span>
</span><span data-line="167">
</span><span data-line="168">	<span class="c1">-- &quot;gc&quot; to comment visual regions/lines</span>
</span><span data-line="169">	<span class="p">{</span>
</span><span data-line="170">		<span class="s2">&quot;numToStr/Comment.nvim&quot;</span><span class="p">,</span>
</span><span data-line="171">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="172">	<span class="p">},</span>
</span><span data-line="173">	<span class="p">{</span>
</span><span data-line="174">		<span class="s2">&quot;akinsho/toggleterm.nvim&quot;</span><span class="p">,</span>
</span><span data-line="175">		<span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span data-line="176">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="177">			<span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
</span><span data-line="178">			<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
</span><span data-line="179">			<span class="n">open_mapping</span> <span class="o">=</span> <span class="s">[[&lt;c-\&gt;]]</span><span class="p">,</span>
</span><span data-line="180">		<span class="p">},</span>
</span><span data-line="181">	<span class="p">},</span>
</span><span data-line="182">	<span class="p">{</span>
</span><span data-line="183">		<span class="s2">&quot;nvim-tree/nvim-tree.lua&quot;</span><span class="p">,</span>
</span><span data-line="184">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="185">			<span class="s2">&quot;nvim-tree/nvim-web-devicons&quot;</span><span class="p">,</span>
</span><span data-line="186">		<span class="p">},</span>
</span><span data-line="187">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="188">			<span class="n">sort_by</span> <span class="o">=</span> <span class="s2">&quot;case_sensitive&quot;</span><span class="p">,</span>
</span><span data-line="189">			<span class="n">view</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="190">				<span class="n">adaptive_size</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="191">			<span class="p">},</span>
</span><span data-line="192">			<span class="n">renderer</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="193">				<span class="n">group_empty</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="194">			<span class="p">},</span>
</span><span data-line="195">			<span class="n">git</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="196">				<span class="n">ignore</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="197">			<span class="p">},</span>
</span><span data-line="198">			<span class="n">filters</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="199">				<span class="n">dotfiles</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="200">			<span class="p">},</span>
</span><span data-line="201">		<span class="p">},</span>
</span><span data-line="202">		<span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="203">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;pt&quot;</span><span class="p">,</span> <span class="s2">&quot;:NvimTreeToggle&lt;CR&gt;&quot;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">},</span>
</span><span data-line="204">			<span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;r&quot;</span><span class="p">,</span> <span class="s2">&quot;:NvimTreeRefresh&lt;CR&gt;&quot;</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;n&quot;</span> <span class="p">},</span>
</span><span data-line="205">		<span class="p">},</span>
</span><span data-line="206">	<span class="p">},</span>
</span><span data-line="207">	<span class="p">{</span>
</span><span data-line="208">		<span class="s2">&quot;simrat39/symbols-outline.nvim&quot;</span><span class="p">,</span>
</span><span data-line="209">		<span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;SymbolsOutline&quot;</span><span class="p">,</span>
</span><span data-line="210">		<span class="n">keys</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span> <span class="s2">&quot;&lt;leader&gt;cs&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;cmd&gt;SymbolsOutline&lt;cr&gt;&quot;</span><span class="p">,</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Symbols Outline&quot;</span> <span class="p">}</span> <span class="p">},</span>
</span><span data-line="211">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="212">			<span class="c1">-- add your options that should be passed to the setup() function here</span>
</span><span data-line="213">			<span class="n">position</span> <span class="o">=</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span data-line="214">		<span class="p">},</span>
</span><span data-line="215">	<span class="p">},</span>
</span><span data-line="216">	<span class="c1">-- Useful plugin to show you pending keybinds.</span>
</span><span data-line="217">	<span class="p">{</span>
</span><span data-line="218">		<span class="s2">&quot;folke/which-key.nvim&quot;</span><span class="p">,</span>
</span><span data-line="219">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="220">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="221">			<span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="kc">true</span>
</span><span data-line="222">			<span class="n">vim</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span class="n">timeoutlen</span> <span class="o">=</span> <span class="mi">500</span>
</span><span data-line="223">			<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;which-key&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="224">				<span class="c1">-- your configuration comes here</span>
</span><span data-line="225">				<span class="c1">-- or leave it empty to use the default settings</span>
</span><span data-line="226">				<span class="c1">-- refer to the configuration section below</span>
</span><span data-line="227">			<span class="p">})</span>
</span><span data-line="228">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="229">	<span class="p">},</span>
</span><span data-line="230">
</span><span data-line="231">	<span class="p">{</span> <span class="c1">-- Adds git releated signs to the gutter, as well as utilities for managing changes</span>
</span><span data-line="232">		<span class="s2">&quot;lewis6991/gitsigns.nvim&quot;</span><span class="p">,</span>
</span><span data-line="233">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="234">			<span class="c1">-- See `:help gitsigns.txt`</span>
</span><span data-line="235">			<span class="n">signs</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="236">				<span class="n">add</span> <span class="o">=</span> <span class="p">{</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;+&quot;</span> <span class="p">},</span>
</span><span data-line="237">				<span class="n">change</span> <span class="o">=</span> <span class="p">{</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;~&quot;</span> <span class="p">},</span>
</span><span data-line="238">				<span class="n">delete</span> <span class="o">=</span> <span class="p">{</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span> <span class="p">},</span>
</span><span data-line="239">				<span class="n">topdelete</span> <span class="o">=</span> <span class="p">{</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;‾&quot;</span> <span class="p">},</span>
</span><span data-line="240">				<span class="n">changedelete</span> <span class="o">=</span> <span class="p">{</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;~&quot;</span> <span class="p">},</span>
</span><span data-line="241">			<span class="p">},</span>
</span><span data-line="242">		<span class="p">},</span>
</span><span data-line="243">	<span class="p">},</span>
</span><span data-line="244">
</span><span data-line="245">	<span class="p">{</span>
</span><span data-line="246">		<span class="c1">-- https://github.com/catppuccin/nvim</span>
</span><span data-line="247">		<span class="s2">&quot;catppuccin/nvim&quot;</span><span class="p">,</span>
</span><span data-line="248">		<span class="n">priority</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
</span><span data-line="249">		<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="250">			<span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">.</span><span class="n">colorscheme</span><span class="p">(</span><span class="s2">&quot;catppuccin&quot;</span><span class="p">)</span>
</span><span data-line="251">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="252">	<span class="p">},</span>
</span><span data-line="253">
</span><span data-line="254">	<span class="p">{</span> <span class="c1">-- Set lualine as statusline</span>
</span><span data-line="255">		<span class="s2">&quot;nvim-lualine/lualine.nvim&quot;</span><span class="p">,</span>
</span><span data-line="256">		<span class="c1">-- See `:help lualine.txt`</span>
</span><span data-line="257">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="258">			<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="259">				<span class="n">icons_enabled</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="260">				<span class="n">theme</span> <span class="o">=</span> <span class="s2">&quot;onedark&quot;</span><span class="p">,</span>
</span><span data-line="261">				<span class="n">component_separators</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="p">,</span>
</span><span data-line="262">				<span class="n">section_separators</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span data-line="263">			<span class="p">},</span>
</span><span data-line="264">		<span class="p">},</span>
</span><span data-line="265">	<span class="p">},</span>
</span><span data-line="266">
</span><span data-line="267">	<span class="p">{</span> <span class="c1">-- Add indentation guides even on blank lines</span>
</span><span data-line="268">		<span class="s2">&quot;lukas-reineke/indent-blankline.nvim&quot;</span><span class="p">,</span>
</span><span data-line="269">		<span class="c1">-- Enable `lukas-reineke/indent-blankline.nvim`</span>
</span><span data-line="270">		<span class="c1">-- See `:help indent_blankline.txt`</span>
</span><span data-line="271">		<span class="n">main</span> <span class="o">=</span> <span class="s2">&quot;ibl&quot;</span><span class="p">,</span>
</span><span data-line="272">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="273">	<span class="p">},</span>
</span><span data-line="274">
</span><span data-line="275">	<span class="p">{</span> <span class="c1">-- LSP Configuration &amp; Plugins</span>
</span><span data-line="276">		<span class="s2">&quot;neovim/nvim-lspconfig&quot;</span><span class="p">,</span>
</span><span data-line="277">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="278">			<span class="c1">-- Automatically install LSPs to stdpath for neovim</span>
</span><span data-line="279">			<span class="s2">&quot;williamboman/mason.nvim&quot;</span><span class="p">,</span>
</span><span data-line="280">			<span class="s2">&quot;williamboman/mason-lspconfig.nvim&quot;</span><span class="p">,</span>
</span><span data-line="281">
</span><span data-line="282">			<span class="c1">-- Useful status updates for LSP</span>
</span><span data-line="283">			<span class="c1">-- NOTE: `opts = {}` is the same as calling `require(&#39;fidget&#39;).setup({})`</span>
</span><span data-line="284">			<span class="p">{</span> <span class="s2">&quot;j-hui/fidget.nvim&quot;</span><span class="p">,</span> <span class="n">opts</span> <span class="o">=</span> <span class="p">{}</span> <span class="p">},</span>
</span><span data-line="285">
</span><span data-line="286">			<span class="c1">-- Additional lua configuration, makes nvim stuff amazing!</span>
</span><span data-line="287">			<span class="s2">&quot;folke/neodev.nvim&quot;</span><span class="p">,</span>
</span><span data-line="288">		<span class="p">},</span>
</span><span data-line="289">	<span class="p">},</span>
</span><span data-line="290">
</span><span data-line="291">	<span class="p">{</span> <span class="c1">-- Autocompletion</span>
</span><span data-line="292">		<span class="s2">&quot;hrsh7th/nvim-cmp&quot;</span><span class="p">,</span>
</span><span data-line="293">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="294">			<span class="s2">&quot;neovim/nvim-lspconfig&quot;</span><span class="p">,</span>
</span><span data-line="295">
</span><span data-line="296">			<span class="s2">&quot;hrsh7th/cmp-nvim-lsp&quot;</span><span class="p">,</span>
</span><span data-line="297">			<span class="s2">&quot;hrsh7th/cmp-buffer&quot;</span><span class="p">,</span>
</span><span data-line="298">			<span class="s2">&quot;hrsh7th/cmp-path&quot;</span><span class="p">,</span>
</span><span data-line="299">
</span><span data-line="300">			<span class="s2">&quot;hrsh7th/cmp-cmdline&quot;</span><span class="p">,</span>
</span><span data-line="301">			<span class="s2">&quot;hrsh7th/nvim-cmp&quot;</span><span class="p">,</span>
</span><span data-line="302">
</span><span data-line="303">			<span class="s2">&quot;hrsh7th/cmp-vsnip&quot;</span><span class="p">,</span>
</span><span data-line="304">			<span class="p">{</span>
</span><span data-line="305">				<span class="s2">&quot;hrsh7th/vim-vsnip&quot;</span><span class="p">,</span>
</span><span data-line="306">				<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="307">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">vsnip_snippet_dir</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">fnamemodify</span><span class="p">(</span><span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">expand</span><span class="p">(</span><span class="s2">&quot;~/.config/nvim/vsnip_snippets&quot;</span><span class="p">),</span> <span class="s2">&quot;:p:h&quot;</span><span class="p">)</span>
</span><span data-line="308">				<span class="kr">end</span><span class="p">,</span>
</span><span data-line="309">			<span class="p">},</span>
</span><span data-line="310">			<span class="p">{</span>
</span><span data-line="311">				<span class="s2">&quot;SirVer/ultisnips&quot;</span><span class="p">,</span>
</span><span data-line="312">				<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;honza/vim-snippets&quot;</span> <span class="p">},</span>
</span><span data-line="313">				<span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="314">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">UltiSnipsSnippetDirectories</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;UltiSnips&quot;</span> <span class="p">}</span>
</span><span data-line="315">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">ultisnips_python_style</span> <span class="o">=</span> <span class="s2">&quot;numpy&quot;</span>
</span><span data-line="316">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">UltiSnipsExpandTrigger</span> <span class="o">=</span> <span class="s2">&quot;&lt;tab&gt;&quot;</span>
</span><span data-line="317">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">UltiSnipsJumpForwardTrigger</span> <span class="o">=</span> <span class="s2">&quot;&lt;c-j&gt;&quot;</span>
</span><span data-line="318">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">UltiSnipsJumpBackwardTrigger</span> <span class="o">=</span> <span class="s2">&quot;&lt;c-k&gt;&quot;</span>
</span><span data-line="319">					<span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">UltiSnipsEditSplit</span> <span class="o">=</span> <span class="s2">&quot;vertical&quot;</span>
</span><span data-line="320">					<span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_exec</span><span class="p">(</span>
</span><span data-line="321">						<span class="s">[[</span>
</span><span data-line="322"><span class="s">            autocmd FileType ultisnips setlocal nofoldenable</span>
</span><span data-line="323"><span class="s">          ]]</span><span class="p">,</span>
</span><span data-line="324">						<span class="kc">false</span>
</span><span data-line="325">					<span class="p">)</span>
</span><span data-line="326">				<span class="kr">end</span><span class="p">,</span>
</span><span data-line="327">				<span class="n">lazy</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="328">			<span class="p">},</span>
</span><span data-line="329">			<span class="s2">&quot;quangnguyen30192/cmp-nvim-ultisnips&quot;</span><span class="p">,</span>
</span><span data-line="330">		<span class="p">},</span>
</span><span data-line="331">	<span class="p">},</span>
</span><span data-line="332">
</span><span data-line="333">	<span class="p">{</span>
</span><span data-line="334">		<span class="s2">&quot;stevearc/conform.nvim&quot;</span><span class="p">,</span>
</span><span data-line="335">		<span class="n">event</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;BufWritePre&quot;</span> <span class="p">},</span>
</span><span data-line="336">		<span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;ConformInfo&quot;</span><span class="p">,</span>
</span><span data-line="337">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;mason.nvim&quot;</span> <span class="p">},</span>
</span><span data-line="338">		<span class="n">lazy</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="339">		<span class="n">keys</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="340">			<span class="p">{</span>
</span><span data-line="341">				<span class="s2">&quot;&lt;leader&gt;cf&quot;</span><span class="p">,</span>
</span><span data-line="342">				<span class="kr">function</span><span class="p">()</span>
</span><span data-line="343">					<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;conform&quot;</span><span class="p">).</span><span class="n">format</span><span class="p">({</span> <span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">3000</span> <span class="p">})</span>
</span><span data-line="344">				<span class="kr">end</span><span class="p">,</span>
</span><span data-line="345">				<span class="n">mode</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span> <span class="p">},</span>
</span><span data-line="346">				<span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Format buffer&quot;</span><span class="p">,</span>
</span><span data-line="347">			<span class="p">},</span>
</span><span data-line="348">		<span class="p">},</span>
</span><span data-line="349">		<span class="n">opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="350">			<span class="n">default_format_opts</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="351">				<span class="n">timeout_ms</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span>
</span><span data-line="352">				<span class="n">async</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">-- not recommended to change</span>
</span><span data-line="353">				<span class="n">quiet</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">-- not recommended to change</span>
</span><span data-line="354">				<span class="n">lsp_format</span> <span class="o">=</span> <span class="s2">&quot;fallback&quot;</span><span class="p">,</span> <span class="c1">-- not recommended to change</span>
</span><span data-line="355">			<span class="p">},</span>
</span><span data-line="356">			<span class="n">log_level</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">levels</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">,</span>
</span><span data-line="357">			<span class="n">formatters_by_ft</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="358">				<span class="n">lua</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;stylua&quot;</span> <span class="p">},</span>
</span><span data-line="359">				<span class="c1">-- Conform will run multiple formatters sequentially</span>
</span><span data-line="360">				<span class="n">python</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">bufnr</span><span class="p">)</span>
</span><span data-line="361">					<span class="kr">if</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;conform&quot;</span><span class="p">).</span><span class="n">get_formatter_info</span><span class="p">(</span><span class="s2">&quot;ruff_format&quot;</span><span class="p">,</span> <span class="n">bufnr</span><span class="p">).</span><span class="n">available</span> <span class="kr">then</span>
</span><span data-line="362">						<span class="kr">return</span> <span class="p">{</span> <span class="s2">&quot;ruff_format&quot;</span> <span class="p">}</span>
</span><span data-line="363">					<span class="kr">else</span>
</span><span data-line="364">						<span class="kr">return</span> <span class="p">{</span> <span class="s2">&quot;isort&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span> <span class="p">}</span>
</span><span data-line="365">					<span class="kr">end</span>
</span><span data-line="366">				<span class="kr">end</span><span class="p">,</span>
</span><span data-line="367">				<span class="c1">-- You can customize some of the format options for the filetype (:help conform.format)</span>
</span><span data-line="368">				<span class="n">rust</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;rustfmt&quot;</span><span class="p">,</span> <span class="n">lsp_format</span> <span class="o">=</span> <span class="s2">&quot;fallback&quot;</span> <span class="p">},</span>
</span><span data-line="369">				<span class="c1">-- Conform will run the first available formatter</span>
</span><span data-line="370">				<span class="n">javascript</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;prettierd&quot;</span><span class="p">,</span> <span class="s2">&quot;prettier&quot;</span><span class="p">,</span> <span class="n">stop_after_first</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">},</span>
</span><span data-line="371">				<span class="c1">-- Use the &quot;*&quot; filetype to run formatters on all filetypes.</span>
</span><span data-line="372">				<span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;codespell&quot;</span> <span class="p">},</span>
</span><span data-line="373">				<span class="c1">-- Use the &quot;_&quot; filetype to run formatters on filetypes that don&#39;t</span>
</span><span data-line="374">				<span class="c1">-- have other formatters configured.</span>
</span><span data-line="375">				<span class="p">[</span><span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;prettierd&quot;</span><span class="p">,</span> <span class="s2">&quot;prettier&quot;</span> <span class="p">},</span>
</span><span data-line="376">			<span class="p">},</span>
</span><span data-line="377">		<span class="p">},</span>
</span><span data-line="378">	<span class="p">},</span>
</span><span data-line="379">
</span><span data-line="380">	<span class="c1">-- https://www.lazyvim.org/plugins/lsp#null-lsnvim</span>
</span><span data-line="381">	<span class="p">{</span>
</span><span data-line="382">		<span class="s2">&quot;nvimtools/none-ls.nvim&quot;</span><span class="p">,</span>
</span><span data-line="383">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;mason.nvim&quot;</span> <span class="p">},</span>
</span><span data-line="384">		<span class="n">opts</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="385">			<span class="kd">local</span> <span class="n">null_ls</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;null-ls&quot;</span><span class="p">)</span>
</span><span data-line="386">			<span class="n">opts</span><span class="p">.</span><span class="n">root_dir</span> <span class="o">=</span> <span class="n">opts</span><span class="p">.</span><span class="n">root_dir</span>
</span><span data-line="387">				<span class="ow">or</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;null-ls.utils&quot;</span><span class="p">).</span><span class="n">root_pattern</span><span class="p">(</span><span class="s2">&quot;.null-ls-root&quot;</span><span class="p">,</span> <span class="s2">&quot;.neoconf.json&quot;</span><span class="p">,</span> <span class="s2">&quot;Makefile&quot;</span><span class="p">,</span> <span class="s2">&quot;.git&quot;</span><span class="p">)</span>
</span><span data-line="388">			<span class="n">opts</span><span class="p">.</span><span class="n">sources</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">list_extend</span><span class="p">(</span><span class="n">opts</span><span class="p">.</span><span class="n">sources</span> <span class="ow">or</span> <span class="p">{},</span> <span class="p">{</span>
</span><span data-line="389">				<span class="c1">-- see https://github.com/nvimtools/none-ls.nvim/blob/main/doc/BUILTINS.md</span>
</span><span data-line="390">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">stylua</span><span class="p">,</span>
</span><span data-line="391">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">shfmt</span><span class="p">,</span>
</span><span data-line="392">				<span class="c1">-- python</span>
</span><span data-line="393">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
</span><span data-line="394">
</span><span data-line="395">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">diagnostics</span><span class="p">.</span><span class="n">djlint</span><span class="p">,</span>
</span><span data-line="396">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">djlint</span><span class="p">,</span>
</span><span data-line="397">				<span class="c1">-- js</span>
</span><span data-line="398">				<span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">prettier</span><span class="p">,</span>
</span><span data-line="399">			<span class="p">})</span>
</span><span data-line="400">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="401">	<span class="p">},</span>
</span><span data-line="402">
</span><span data-line="403">	<span class="c1">-- Fuzzy Finder (files, lsp, etc)</span>
</span><span data-line="404">	<span class="p">{</span>
</span><span data-line="405">		<span class="s2">&quot;nvim-telescope/telescope.nvim&quot;</span><span class="p">,</span>
</span><span data-line="406">		<span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span data-line="407">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;nvim-lua/plenary.nvim&quot;</span> <span class="p">},</span>
</span><span data-line="408">	<span class="p">},</span>
</span><span data-line="409">	<span class="c1">-- Fuzzy Finder Algorithm which requires local dependencies to be built.</span>
</span><span data-line="410">	<span class="c1">-- Only load if `make` is available. Make sure you have the system</span>
</span><span data-line="411">	<span class="c1">-- requirements installed.</span>
</span><span data-line="412">	<span class="p">{</span>
</span><span data-line="413">		<span class="s2">&quot;nvim-telescope/telescope-fzf-native.nvim&quot;</span><span class="p">,</span>
</span><span data-line="414">		<span class="c1">-- NOTE: If you are having trouble with this installation,</span>
</span><span data-line="415">		<span class="c1">--       refer to the README for telescope-fzf-native for more instructions.</span>
</span><span data-line="416">		<span class="n">build</span> <span class="o">=</span> <span class="s2">&quot;make&quot;</span><span class="p">,</span>
</span><span data-line="417">		<span class="n">cond</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="418">			<span class="kr">return</span> <span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">executable</span><span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</span><span data-line="419">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="420">	<span class="p">},</span>
</span><span data-line="421">	<span class="p">{</span> <span class="c1">-- Highlight, edit, and navigate code</span>
</span><span data-line="422">		<span class="s2">&quot;nvim-treesitter/nvim-treesitter&quot;</span><span class="p">,</span>
</span><span data-line="423">		<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="424">			<span class="s2">&quot;nvim-treesitter/nvim-treesitter-textobjects&quot;</span><span class="p">,</span>
</span><span data-line="425">		<span class="p">},</span>
</span><span data-line="426">		<span class="n">build</span> <span class="o">=</span> <span class="s2">&quot;:TSUpdate&quot;</span><span class="p">,</span>
</span><span data-line="427">	<span class="p">},</span>
</span><span data-line="428"><span class="p">},</span> <span class="p">{})</span>
</span><span data-line="429">
</span><span data-line="430"><span class="c1">-- [[ Highlight on yank ]]</span>
</span><span data-line="431"><span class="c1">-- See `:help vim.highlight.on_yank()`</span>
</span><span data-line="432"><span class="kd">local</span> <span class="n">highlight_group</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_create_augroup</span><span class="p">(</span><span class="s2">&quot;YankHighlight&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">clear</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">})</span>
</span><span data-line="433"><span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_create_autocmd</span><span class="p">(</span><span class="s2">&quot;TextYankPost&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span data-line="434">	<span class="n">callback</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="435">		<span class="n">vim</span><span class="p">.</span><span class="n">highlight</span><span class="p">.</span><span class="n">on_yank</span><span class="p">()</span>
</span><span data-line="436">	<span class="kr">end</span><span class="p">,</span>
</span><span data-line="437">	<span class="n">group</span> <span class="o">=</span> <span class="n">highlight_group</span><span class="p">,</span>
</span><span data-line="438">	<span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span data-line="439"><span class="p">})</span>
</span><span data-line="440">
</span><span data-line="441"><span class="c1">-- [[ Configure Telescope ]]</span>
</span><span data-line="442"><span class="c1">-- See `:help telescope` and `:help telescope.setup()`</span>
</span><span data-line="443"><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="444">	<span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="445">		<span class="n">mappings</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="446">			<span class="n">i</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="447">				<span class="p">[</span><span class="s2">&quot;&lt;C-u&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="448">				<span class="p">[</span><span class="s2">&quot;&lt;C-d&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="449">			<span class="p">},</span>
</span><span data-line="450">		<span class="p">},</span>
</span><span data-line="451">	<span class="p">},</span>
</span><span data-line="452"><span class="p">})</span>
</span><span data-line="453"><span class="c1">-- Enable telescope fzf native, if installed</span>
</span><span data-line="454"><span class="nb">pcall</span><span class="p">(</span><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope&quot;</span><span class="p">).</span><span class="n">load_extension</span><span class="p">,</span> <span class="s2">&quot;fzf&quot;</span><span class="p">)</span>
</span><span data-line="455">
</span><span data-line="456"><span class="c1">-- See `:help telescope.builtin`</span>
</span><span data-line="457"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;?&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">oldfiles</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[?] Find recently opened files&quot;</span> <span class="p">})</span>
</span><span data-line="458"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;&lt;space&gt;&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">buffers</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[ ] Find existing buffers&quot;</span> <span class="p">})</span>
</span><span data-line="459"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;/&quot;</span><span class="p">,</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="460">	<span class="c1">-- You can pass additional configuration to telescope to change theme, layout, etc.</span>
</span><span data-line="461">	<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">current_buffer_fuzzy_find</span><span class="p">(</span><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.themes&quot;</span><span class="p">).</span><span class="n">get_dropdown</span><span class="p">({</span>
</span><span data-line="462">		<span class="n">winblend</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span data-line="463">		<span class="n">previewer</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="464">	<span class="p">}))</span>
</span><span data-line="465"><span class="kr">end</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[/] Fuzzily search in current buffer&quot;</span> <span class="p">})</span>
</span><span data-line="466">
</span><span data-line="467"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;ff&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">find_files</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[S]earch [F]iles&quot;</span> <span class="p">})</span>
</span><span data-line="468"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;fh&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">help_tags</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[S]earch [H]elp&quot;</span> <span class="p">})</span>
</span><span data-line="469"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;fw&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">grep_string</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[S]earch current [W]ord&quot;</span> <span class="p">})</span>
</span><span data-line="470"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;fg&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">live_grep</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[S]earch by [G]rep&quot;</span> <span class="p">})</span>
</span><span data-line="471"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;fd&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">diagnostics</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;[S]earch [D]iagnostics&quot;</span> <span class="p">})</span>
</span><span data-line="472">
</span><span data-line="473"><span class="c1">-- [[ Configure Treesitter ]]</span>
</span><span data-line="474"><span class="c1">-- See `:help nvim-treesitter`</span>
</span><span data-line="475"><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;nvim-treesitter.configs&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="476">	<span class="c1">-- Add languages to be installed here that you want installed for treesitter</span>
</span><span data-line="477">	<span class="n">ensure_installed</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;tsx&quot;</span><span class="p">,</span> <span class="s2">&quot;typescript&quot;</span><span class="p">,</span> <span class="s2">&quot;vimdoc&quot;</span><span class="p">,</span> <span class="s2">&quot;vim&quot;</span><span class="p">,</span> <span class="s2">&quot;lua&quot;</span> <span class="p">},</span>
</span><span data-line="478">
</span><span data-line="479">	<span class="c1">-- Autoinstall languages that are not installed. Defaults to false (but you can change for yourself!)</span>
</span><span data-line="480">	<span class="n">auto_install</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
</span><span data-line="481">
</span><span data-line="482">	<span class="n">highlight</span> <span class="o">=</span> <span class="p">{</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">},</span>
</span><span data-line="483">	<span class="n">indent</span> <span class="o">=</span> <span class="p">{</span> <span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">disable</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;python&quot;</span> <span class="p">}</span> <span class="p">},</span>
</span><span data-line="484">	<span class="n">incremental_selection</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="485">		<span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="486">		<span class="n">keymaps</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="487">			<span class="n">init_selection</span> <span class="o">=</span> <span class="s2">&quot;&lt;c-space&gt;&quot;</span><span class="p">,</span>
</span><span data-line="488">			<span class="n">node_incremental</span> <span class="o">=</span> <span class="s2">&quot;&lt;c-space&gt;&quot;</span><span class="p">,</span>
</span><span data-line="489">			<span class="n">scope_incremental</span> <span class="o">=</span> <span class="s2">&quot;&lt;c-s&gt;&quot;</span><span class="p">,</span>
</span><span data-line="490">			<span class="n">node_decremental</span> <span class="o">=</span> <span class="s2">&quot;&lt;M-space&gt;&quot;</span><span class="p">,</span>
</span><span data-line="491">		<span class="p">},</span>
</span><span data-line="492">	<span class="p">},</span>
</span><span data-line="493">	<span class="n">textobjects</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="494">		<span class="nb">select</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="495">			<span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="496">			<span class="n">lookahead</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">-- Automatically jump forward to textobj, similar to targets.vim</span>
</span><span data-line="497">			<span class="n">keymaps</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="498">				<span class="c1">-- You can use the capture groups defined in textobjects.scm</span>
</span><span data-line="499">				<span class="p">[</span><span class="s2">&quot;aa&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@parameter.outer&quot;</span><span class="p">,</span>
</span><span data-line="500">				<span class="p">[</span><span class="s2">&quot;ia&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@parameter.inner&quot;</span><span class="p">,</span>
</span><span data-line="501">				<span class="p">[</span><span class="s2">&quot;af&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.outer&quot;</span><span class="p">,</span>
</span><span data-line="502">				<span class="p">[</span><span class="s2">&quot;if&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.inner&quot;</span><span class="p">,</span>
</span><span data-line="503">				<span class="p">[</span><span class="s2">&quot;ac&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.outer&quot;</span><span class="p">,</span>
</span><span data-line="504">				<span class="p">[</span><span class="s2">&quot;ic&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.inner&quot;</span><span class="p">,</span>
</span><span data-line="505">			<span class="p">},</span>
</span><span data-line="506">		<span class="p">},</span>
</span><span data-line="507">		<span class="n">move</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="508">			<span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="509">			<span class="n">set_jumps</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">-- whether to set jumps in the jumplist</span>
</span><span data-line="510">			<span class="n">goto_next_start</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="511">				<span class="p">[</span><span class="s2">&quot;]m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.outer&quot;</span><span class="p">,</span>
</span><span data-line="512">				<span class="p">[</span><span class="s2">&quot;]]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.outer&quot;</span><span class="p">,</span>
</span><span data-line="513">			<span class="p">},</span>
</span><span data-line="514">			<span class="n">goto_next_end</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="515">				<span class="p">[</span><span class="s2">&quot;]M&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.outer&quot;</span><span class="p">,</span>
</span><span data-line="516">				<span class="p">[</span><span class="s2">&quot;][&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.outer&quot;</span><span class="p">,</span>
</span><span data-line="517">			<span class="p">},</span>
</span><span data-line="518">			<span class="n">goto_previous_start</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="519">				<span class="p">[</span><span class="s2">&quot;[m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.outer&quot;</span><span class="p">,</span>
</span><span data-line="520">				<span class="p">[</span><span class="s2">&quot;[[&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.outer&quot;</span><span class="p">,</span>
</span><span data-line="521">			<span class="p">},</span>
</span><span data-line="522">			<span class="n">goto_previous_end</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="523">				<span class="p">[</span><span class="s2">&quot;[M&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@function.outer&quot;</span><span class="p">,</span>
</span><span data-line="524">				<span class="p">[</span><span class="s2">&quot;[]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@class.outer&quot;</span><span class="p">,</span>
</span><span data-line="525">			<span class="p">},</span>
</span><span data-line="526">		<span class="p">},</span>
</span><span data-line="527">		<span class="n">swap</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="528">			<span class="n">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="529">			<span class="n">swap_next</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="530">				<span class="p">[</span><span class="s2">&quot;&lt;leader&gt;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@parameter.inner&quot;</span><span class="p">,</span>
</span><span data-line="531">			<span class="p">},</span>
</span><span data-line="532">			<span class="n">swap_previous</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="533">				<span class="p">[</span><span class="s2">&quot;&lt;leader&gt;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;@parameter.inner&quot;</span><span class="p">,</span>
</span><span data-line="534">			<span class="p">},</span>
</span><span data-line="535">		<span class="p">},</span>
</span><span data-line="536">	<span class="p">},</span>
</span><span data-line="537"><span class="p">})</span>
</span><span data-line="538">
</span><span data-line="539"><span class="c1">-- Diagnostic keymaps</span>
</span><span data-line="540"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;[d&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">diagnostic</span><span class="p">.</span><span class="n">goto_prev</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Go to previous diagnostic message&quot;</span> <span class="p">})</span>
</span><span data-line="541"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;]d&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">diagnostic</span><span class="p">.</span><span class="n">goto_next</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Go to next diagnostic message&quot;</span> <span class="p">})</span>
</span><span data-line="542"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;e&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">diagnostic</span><span class="p">.</span><span class="n">open_float</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Open floating diagnostic message&quot;</span> <span class="p">})</span>
</span><span data-line="543"><span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;q&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">diagnostic</span><span class="p">.</span><span class="n">setloclist</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Open diagnostics list&quot;</span> <span class="p">})</span>
</span><span data-line="544">
</span><span data-line="545"><span class="c1">-- LSP settings.</span>
</span><span data-line="546"><span class="c1">--  This function gets run when an LSP connects to a particular buffer.</span>
</span><span data-line="547"><span class="kd">local</span> <span class="n">on_attach</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">bufnr</span><span class="p">)</span>
</span><span data-line="548">	<span class="c1">-- NOTE: Remember that lua is a real programming language, and as such it is possible</span>
</span><span data-line="549">	<span class="c1">-- to define small helper and utility functions so you don&#39;t have to repeat yourself</span>
</span><span data-line="550">	<span class="c1">-- many times.</span>
</span><span data-line="551">	<span class="c1">--</span>
</span><span data-line="552">	<span class="c1">-- In this case, we create a function that lets us more easily define mappings specific</span>
</span><span data-line="553">	<span class="c1">-- for LSP related items. It sets the mode, buffer and description for us each time.</span>
</span><span data-line="554">	<span class="kd">local</span> <span class="n">nmap</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">desc</span><span class="p">)</span>
</span><span data-line="555">		<span class="kr">if</span> <span class="n">desc</span> <span class="kr">then</span>
</span><span data-line="556">			<span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;LSP: &quot;</span> <span class="o">..</span> <span class="n">desc</span>
</span><span data-line="557">		<span class="kr">end</span>
</span><span data-line="558">
</span><span data-line="559">		<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">{</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">bufnr</span><span class="p">,</span> <span class="n">desc</span> <span class="o">=</span> <span class="n">desc</span> <span class="p">})</span>
</span><span data-line="560">	<span class="kr">end</span>
</span><span data-line="561">
</span><span data-line="562">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;rn&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">rename</span><span class="p">,</span> <span class="s2">&quot;[R]e[n]ame&quot;</span><span class="p">)</span>
</span><span data-line="563">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;ca&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">code_action</span><span class="p">,</span> <span class="s2">&quot;[C]ode [A]ction&quot;</span><span class="p">)</span>
</span><span data-line="564">
</span><span data-line="565">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;gd&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">definition</span><span class="p">,</span> <span class="s2">&quot;[G]oto [D]efinition&quot;</span><span class="p">)</span>
</span><span data-line="566">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;gr&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">lsp_references</span><span class="p">,</span> <span class="s2">&quot;[G]oto [R]eferences&quot;</span><span class="p">)</span>
</span><span data-line="567">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;gI&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">implementation</span><span class="p">,</span> <span class="s2">&quot;[G]oto [I]mplementation&quot;</span><span class="p">)</span>
</span><span data-line="568">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;D&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">type_definition</span><span class="p">,</span> <span class="s2">&quot;Type [D]efinition&quot;</span><span class="p">)</span>
</span><span data-line="569">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;ds&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">lsp_document_symbols</span><span class="p">,</span> <span class="s2">&quot;[D]ocument [S]ymbols&quot;</span><span class="p">)</span>
</span><span data-line="570">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;ws&quot;</span><span class="p">,</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;telescope.builtin&quot;</span><span class="p">).</span><span class="n">lsp_dynamic_workspace_symbols</span><span class="p">,</span> <span class="s2">&quot;[W]orkspace [S]ymbols&quot;</span><span class="p">)</span>
</span><span data-line="571">
</span><span data-line="572">	<span class="c1">-- See `:help K` for why this keymap</span>
</span><span data-line="573">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">hover</span><span class="p">,</span> <span class="s2">&quot;Hover Documentation&quot;</span><span class="p">)</span>
</span><span data-line="574">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;C-k&gt;&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">signature_help</span><span class="p">,</span> <span class="s2">&quot;Signature Documentation&quot;</span><span class="p">)</span>
</span><span data-line="575">
</span><span data-line="576">	<span class="c1">-- Lesser used LSP functionality</span>
</span><span data-line="577">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;gD&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">declaration</span><span class="p">,</span> <span class="s2">&quot;[G]oto [D]eclaration&quot;</span><span class="p">)</span>
</span><span data-line="578">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;wa&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">add_workspace_folder</span><span class="p">,</span> <span class="s2">&quot;[W]orkspace [A]dd Folder&quot;</span><span class="p">)</span>
</span><span data-line="579">	<span class="n">nmap</span><span class="p">(</span><span class="s2">&quot;&lt;leader&gt;wr&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">remove_workspace_folder</span><span class="p">,</span> <span class="s2">&quot;[W]orkspace [R]emove Folder&quot;</span><span class="p">)</span>
</span><span data-line="580">	<span class="c1">-- nmap(&#39;&lt;leader&gt;wl&#39;, function()</span>
</span><span data-line="581">	<span class="c1">--    print(vim.inspect(vim.lsp.buf.list_workspace_folders()))</span>
</span><span data-line="582">	<span class="c1">-- end, &#39;[W]orkspace [L]ist Folders&#39;)</span>
</span><span data-line="583">
</span><span data-line="584">	<span class="c1">-- Create a command `:Format` local to the LSP buffer</span>
</span><span data-line="585">
</span><span data-line="586">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;leader&gt;f&quot;</span><span class="p">,</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">format</span><span class="p">)</span>
</span><span data-line="587">	<span class="n">vim</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">nvim_buf_create_user_command</span><span class="p">(</span><span class="n">bufnr</span><span class="p">,</span> <span class="s2">&quot;Format&quot;</span><span class="p">,</span> <span class="kr">function</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
</span><span data-line="588">		<span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">buf</span><span class="p">.</span><span class="n">format</span><span class="p">()</span>
</span><span data-line="589">	<span class="kr">end</span><span class="p">,</span> <span class="p">{</span> <span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;Format current buffer with LSP&quot;</span> <span class="p">})</span>
</span><span data-line="590"><span class="kr">end</span>
</span><span data-line="591">
</span><span data-line="592"><span class="c1">-- Enable the following language servers</span>
</span><span data-line="593"><span class="c1">--  Feel free to add/remove any LSPs that you want here. They will automatically be installed.</span>
</span><span data-line="594"><span class="c1">--</span>
</span><span data-line="595"><span class="c1">--  Add any additional override configuration in the following tables. They will be passed to</span>
</span><span data-line="596"><span class="c1">--  the `settings` field of the server config. You must look up that documentation yourself.</span>
</span><span data-line="597"><span class="kd">local</span> <span class="n">servers</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="598">	<span class="c1">-- clangd = {},</span>
</span><span data-line="599">	<span class="c1">-- gopls = {},</span>
</span><span data-line="600">	<span class="n">pyright</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="601">	<span class="n">rust_analyzer</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="602">	<span class="n">ts_ls</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="603">	<span class="n">texlab</span> <span class="o">=</span> <span class="p">{},</span>
</span><span data-line="604"><span class="p">}</span>
</span><span data-line="605">
</span><span data-line="606"><span class="c1">-- Setup neovim lua configuration</span>
</span><span data-line="607"><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;neodev&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">()</span>
</span><span data-line="608">
</span><span data-line="609"><span class="c1">-- nvim-cmp supports additional completion capabilities, so broadcast that to servers</span>
</span><span data-line="610"><span class="kd">local</span> <span class="n">capabilities</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">lsp</span><span class="p">.</span><span class="n">protocol</span><span class="p">.</span><span class="n">make_client_capabilities</span><span class="p">()</span>
</span><span data-line="611"><span class="n">capabilities</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;cmp_nvim_lsp&quot;</span><span class="p">).</span><span class="n">default_capabilities</span><span class="p">(</span><span class="n">capabilities</span><span class="p">)</span>
</span><span data-line="612">
</span><span data-line="613"><span class="c1">-- Setup mason so it can manage external tooling</span>
</span><span data-line="614"><span class="nb">require</span><span class="p">(</span><span class="s2">&quot;mason&quot;</span><span class="p">).</span><span class="n">setup</span><span class="p">()</span>
</span><span data-line="615">
</span><span data-line="616"><span class="c1">-- Ensure the servers above are installed</span>
</span><span data-line="617"><span class="kd">local</span> <span class="n">mason_lspconfig</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;mason-lspconfig&quot;</span><span class="p">)</span>
</span><span data-line="618">
</span><span data-line="619"><span class="n">mason_lspconfig</span><span class="p">.</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="620">	<span class="n">ensure_installed</span> <span class="o">=</span> <span class="n">vim</span><span class="p">.</span><span class="n">tbl_keys</span><span class="p">(</span><span class="n">servers</span><span class="p">),</span>
</span><span data-line="621"><span class="p">})</span>
</span><span data-line="622">
</span><span data-line="623"><span class="n">mason_lspconfig</span><span class="p">.</span><span class="n">setup_handlers</span><span class="p">({</span>
</span><span data-line="624">	<span class="kr">function</span><span class="p">(</span><span class="n">server_name</span><span class="p">)</span>
</span><span data-line="625">		<span class="nb">require</span><span class="p">(</span><span class="s2">&quot;lspconfig&quot;</span><span class="p">)[</span><span class="n">server_name</span><span class="p">].</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="626">			<span class="n">capabilities</span> <span class="o">=</span> <span class="n">capabilities</span><span class="p">,</span>
</span><span data-line="627">			<span class="n">on_attach</span> <span class="o">=</span> <span class="n">on_attach</span><span class="p">,</span>
</span><span data-line="628">			<span class="n">settings</span> <span class="o">=</span> <span class="n">servers</span><span class="p">[</span><span class="n">server_name</span><span class="p">],</span>
</span><span data-line="629">		<span class="p">})</span>
</span><span data-line="630">	<span class="kr">end</span><span class="p">,</span>
</span><span data-line="631"><span class="p">})</span>
</span><span data-line="632">
</span><span data-line="633"><span class="c1">-- nvim-cmp setup</span>
</span><span data-line="634"><span class="kd">local</span> <span class="n">cmp</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;cmp&quot;</span><span class="p">)</span>
</span><span data-line="635"><span class="c1">-- local luasnip = require &#39;luasnip&#39;</span>
</span><span data-line="636">
</span><span data-line="637"><span class="n">cmp</span><span class="p">.</span><span class="n">setup</span><span class="p">({</span>
</span><span data-line="638">	<span class="n">snippet</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="639">		<span class="n">expand</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span data-line="640">			<span class="n">vim</span><span class="p">.</span><span class="n">fn</span><span class="p">[</span><span class="s2">&quot;UltiSnips#Anon&quot;</span><span class="p">](</span><span class="n">args</span><span class="p">.</span><span class="n">body</span><span class="p">)</span>
</span><span data-line="641">		<span class="kr">end</span><span class="p">,</span>
</span><span data-line="642">	<span class="p">},</span>
</span><span data-line="643">	<span class="n">mapping</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">preset</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span>
</span><span data-line="644">		<span class="p">[</span><span class="s2">&quot;&lt;C-d&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">),</span>
</span><span data-line="645">		<span class="p">[</span><span class="s2">&quot;&lt;C-f&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">scroll_docs</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
</span><span data-line="646">		<span class="p">[</span><span class="s2">&quot;&lt;C-Space&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">complete</span><span class="p">({}),</span>
</span><span data-line="647">		<span class="p">[</span><span class="s2">&quot;&lt;CR&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">mapping</span><span class="p">.</span><span class="n">confirm</span><span class="p">({</span>
</span><span data-line="648">			<span class="n">behavior</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">ConfirmBehavior</span><span class="p">.</span><span class="n">Replace</span><span class="p">,</span>
</span><span data-line="649">			<span class="nb">select</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
</span><span data-line="650">		<span class="p">}),</span>
</span><span data-line="651">	<span class="p">}),</span>
</span><span data-line="652">	<span class="n">sources</span> <span class="o">=</span> <span class="n">cmp</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">sources</span><span class="p">({</span>
</span><span data-line="653">		<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;nvim_lsp&quot;</span> <span class="p">},</span>
</span><span data-line="654">		<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;vsnip&quot;</span> <span class="p">},</span> <span class="c1">-- For vsnip users.</span>
</span><span data-line="655">		<span class="c1">-- { name = &#39;luasnip&#39; }, -- For luasnip users.</span>
</span><span data-line="656">		<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;ultisnips&quot;</span> <span class="p">},</span> <span class="c1">-- For ultisnips users.</span>
</span><span data-line="657">		<span class="c1">-- { name = &#39;snippy&#39; }, -- For snippy users.</span>
</span><span data-line="658">		<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;buffer&quot;</span> <span class="p">},</span>
</span><span data-line="659">		<span class="p">{</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;path&quot;</span> <span class="p">},</span>
</span><span data-line="660">	<span class="p">}),</span>
</span><span data-line="661"><span class="p">})</span>
</span><span data-line="662">
</span><span data-line="663"><span class="kr">function</span> <span class="nc">_G</span><span class="p">.</span><span class="nf">set_terminal_keymaps</span><span class="p">()</span>
</span><span data-line="664">	<span class="kd">local</span> <span class="n">opts</span> <span class="o">=</span> <span class="p">{</span> <span class="n">buffer</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">}</span>
</span><span data-line="665">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;esc&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;C-\&gt;&lt;C-n&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="666">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;jk&quot;</span><span class="p">,</span> <span class="s">[[&lt;C-\&gt;&lt;C-n&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="667">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-h&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;Cmd&gt;wincmd h&lt;CR&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="668">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-j&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;Cmd&gt;wincmd j&lt;CR&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="669">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-k&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;Cmd&gt;wincmd k&lt;CR&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="670">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-l&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;Cmd&gt;wincmd l&lt;CR&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="671">	<span class="n">vim</span><span class="p">.</span><span class="n">keymap</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;C-w&gt;&quot;</span><span class="p">,</span> <span class="s">[[&lt;C-\&gt;&lt;C-n&gt;&lt;C-w&gt;]]</span><span class="p">,</span> <span class="n">opts</span><span class="p">)</span>
</span><span data-line="672"><span class="kr">end</span>
</span><span data-line="673">
</span><span data-line="674"><span class="c1">-- if you only want these mappings for toggle term use term://*toggleterm#* instead</span>
</span><span data-line="675"><span class="n">vim</span><span class="p">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;autocmd! TermOpen term://* lua set_terminal_keymaps()&quot;</span><span class="p">)</span>
</span><span data-line="676">
</span><span data-line="677">
</span><span data-line="678">
</span><span data-line="679"><span class="c1">-- The line beneath this is called `modeline`. See `:help modeline`</span>
</span><span data-line="680"><span class="c1">-- vim: ts=2 sts=2 sw=2 et</span>
</span><span data-line="681">
</span><span data-line="682"><span class="n">vim</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">tmux_navigator_no_mappings</span> <span class="o">=</span> <span class="mi">1</span>
</span></pre></div>
</div>
</div>
</details></section>
<section id="why-tmux-instead-of-zellij">
<h2>Why tmux instead of Zellij<a class="headerlink" href="#why-tmux-instead-of-zellij" title="Link to this heading">¶</a></h2>
<p>其实我还真的挺喜欢<code class="docutils literal notranslate"><span class="pre">Rust</span></code>的，但是对于<code class="docutils literal notranslate"><span class="pre">Zellij</span></code>的使用体验确实不太好。
所以最后还是选用了<code class="docutils literal notranslate"><span class="pre">tmux</span></code>.</p>
<p>具体的启用包括复制下面的config到<code class="code docutils literal notranslate"><span class="pre">~/.tmux.conf</span></code>,然后<code class="code docutils literal notranslate"><span class="pre">tmux</span> <span class="pre">source-file</span> <span class="pre">.tmux.conf</span></code>即可。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>-SL<span class="w"> </span>https://raw.githubusercontent.com/hotchilipowder/my_config/refs/heads/main/tmux/.tmux.conf<span class="w"> </span>-o<span class="w"> </span>~/.tmux.conf
</span><span data-line="2">tmux<span class="w"> </span>source-file<span class="w"> </span>~/.tmux.conf
</span></pre></div>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text"><code class="code docutils literal notranslate"><span class="pre">~/.tmux.conf</span></code></span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># : &lt;&lt; EOF</span>
</span><span data-line="2"><span class="c1"># https://github.com/gpakosz/.tmux</span>
</span><span data-line="3"><span class="c1"># (‑●‑●)&gt; dual licensed under the WTFPL v2 license and the MIT license,</span>
</span><span data-line="4"><span class="c1">#         without any warranty.</span>
</span><span data-line="5"><span class="c1">#         Copyright 2012— Gregory Pakosz (@gpakosz).</span>
</span><span data-line="6"><span class="c1"># /!\ do not edit this file</span>
</span><span data-line="7"><span class="c1">#     instead, override settings in ~/.tmux.conf.local, see README.md</span>
</span><span data-line="8">
</span><span data-line="9"><span class="c1"># See: https://github.com/christoomey/vim-tmux-navigator</span>
</span><span data-line="10"><span class="nv">is_vim</span><span class="o">=</span><span class="s2">&quot;ps -o state= -o comm= -t &#39;#{pane_tty}&#39; \</span>
</span><span data-line="11"><span class="s2">    | grep -iqE &#39;^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?</span>$<span class="s2">&#39;&quot;</span>
</span><span data-line="12">bind-key<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;C-h&#39;</span><span class="w"> </span><span class="k">if</span>-shell<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$is_vim</span><span class="s2">&quot;</span><span class="w"> </span><span class="s1">&#39;send-keys C-h&#39;</span><span class="w">  </span><span class="s1">&#39;select-pane -L&#39;</span>
</span><span data-line="13">bind-key<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;C-j&#39;</span><span class="w"> </span><span class="k">if</span>-shell<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$is_vim</span><span class="s2">&quot;</span><span class="w"> </span><span class="s1">&#39;send-keys C-j&#39;</span><span class="w">  </span><span class="s1">&#39;select-pane -D&#39;</span>
</span><span data-line="14">bind-key<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;C-k&#39;</span><span class="w"> </span><span class="k">if</span>-shell<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$is_vim</span><span class="s2">&quot;</span><span class="w"> </span><span class="s1">&#39;send-keys C-k&#39;</span><span class="w">  </span><span class="s1">&#39;select-pane -U&#39;</span>
</span><span data-line="15">bind-key<span class="w"> </span>-n<span class="w"> </span><span class="s1">&#39;C-l&#39;</span><span class="w"> </span><span class="k">if</span>-shell<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$is_vim</span><span class="s2">&quot;</span><span class="w"> </span><span class="s1">&#39;send-keys C-l&#39;</span><span class="w">  </span><span class="s1">&#39;select-pane -R&#39;</span>
</span><span data-line="16">
</span><span data-line="17">bind-key<span class="w"> </span>-T<span class="w"> </span>copy-mode-vi<span class="w"> </span><span class="s1">&#39;C-h&#39;</span><span class="w"> </span><span class="k">select</span>-pane<span class="w"> </span>-L
</span><span data-line="18">bind-key<span class="w"> </span>-T<span class="w"> </span>copy-mode-vi<span class="w"> </span><span class="s1">&#39;C-j&#39;</span><span class="w"> </span><span class="k">select</span>-pane<span class="w"> </span>-D
</span><span data-line="19">bind-key<span class="w"> </span>-T<span class="w"> </span>copy-mode-vi<span class="w"> </span><span class="s1">&#39;C-k&#39;</span><span class="w"> </span><span class="k">select</span>-pane<span class="w"> </span>-U
</span><span data-line="20">bind-key<span class="w"> </span>-T<span class="w"> </span>copy-mode-vi<span class="w"> </span><span class="s1">&#39;C-l&#39;</span><span class="w"> </span><span class="k">select</span>-pane<span class="w"> </span>-R
</span><span data-line="21">
</span><span data-line="22">
</span><span data-line="23">
</span><span data-line="24"><span class="c1"># -- general -------------------------------------------------------------------</span>
</span><span data-line="25">
</span><span data-line="26">set-option<span class="w"> </span>-g<span class="w"> </span>mouse
</span><span data-line="27">
</span><span data-line="28">
</span><span data-line="29"><span class="nb">set</span><span class="w"> </span>-g<span class="w"> </span>history-limit<span class="w"> </span><span class="m">10000</span><span class="w">                 </span><span class="c1"># boost history</span>
</span><span data-line="30">
</span><span data-line="31">
</span><span data-line="32"><span class="nb">bind</span><span class="w"> </span>-r<span class="w"> </span>H<span class="w"> </span>resize-pane<span class="w"> </span>-L<span class="w"> </span><span class="m">2</span>
</span><span data-line="33"><span class="nb">bind</span><span class="w"> </span>-r<span class="w"> </span>J<span class="w"> </span>resize-pane<span class="w"> </span>-D<span class="w"> </span><span class="m">2</span>
</span><span data-line="34"><span class="nb">bind</span><span class="w"> </span>-r<span class="w"> </span>K<span class="w"> </span>resize-pane<span class="w"> </span>-U<span class="w"> </span><span class="m">2</span>
</span><span data-line="35"><span class="nb">bind</span><span class="w"> </span>-r<span class="w"> </span>L<span class="w"> </span>resize-pane<span class="w"> </span>-R<span class="w"> </span><span class="m">2</span>
</span><span data-line="36">
</span><span data-line="37">
</span><span data-line="38">setw<span class="w"> </span>-g<span class="w"> </span>xterm-keys<span class="w"> </span>on
</span><span data-line="39"><span class="nb">set</span><span class="w"> </span>-s<span class="w"> </span>escape-time<span class="w"> </span><span class="m">10</span><span class="w">                     </span><span class="c1"># faster command sequences</span>
</span><span data-line="40"><span class="nb">set</span><span class="w"> </span>-sg<span class="w"> </span>repeat-time<span class="w"> </span><span class="m">600</span><span class="w">                   </span><span class="c1"># increase repeat timeout</span>
</span><span data-line="41"><span class="nb">set</span><span class="w"> </span>-s<span class="w"> </span>focus-events<span class="w"> </span>on
</span><span data-line="42">
</span><span data-line="43"><span class="nb">set</span><span class="w"> </span>-s<span class="w"> </span>set-clipboard<span class="w"> </span>on<span class="w"> </span><span class="c1"># set for osyank-tmux</span>
</span></pre></div>
</div>
</div>
</details></section>
<section id="tmux-with-neovim">
<h2>Tmux with Neovim<a class="headerlink" href="#tmux-with-neovim" title="Link to this heading">¶</a></h2>
<p>The basic useful for my tmux with neovim is <a class="reference external" href="https://github.com/christoomey/vim-tmux-navigator">vim-tmux-navigator</a>, 但是这个最大的问题就是其中 <code class="code docutils literal notranslate"><span class="pre">&lt;C-\&gt;</span></code>和 <a class="reference external" href="https://github.com/akinsho/toggleterm.nvim">toggleterm.nvim</a> 设置的快捷键冲突了， 所以只能取消了。</p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>使用 <code class="code docutils literal notranslate"><span class="pre">:nmap</span> <span class="pre">&lt;C-\&gt;</span></code>就能看出来了</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">:nmap</span></code> for normal mode mappings</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">:vmap</span></code> for visual mode mappings</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">:imap</span></code> for insert mode mappings</p></li>
</ul>
</div>
</section>
<section id="awesome-neovim-plugins">
<h2>Awesome Neovim Plugins<a class="headerlink" href="#awesome-neovim-plugins" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>vim-tmux-navigator<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/christoomey/vim-tmux-navigator">vim-tmux-navigator</a></p>
<p>more config see  <span class="xref std std-doc">tmux.rst</span></p>
<p>这里之前有</p>
</section>
<section id="bufferline-nvim">
<h3>bufferline.nvim<a class="headerlink" href="#bufferline-nvim" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/akinsho/bufferline.nvim">bufferline.nvim</a></p>
<p>This is a very interesting plugin for the bufferline.
不过由于这个插件只开buffer，不好关闭（点击叉关闭对于纯键盘党而言太麻烦)，所以需要定义一个关闭的快捷键, 我定义为 <code class="code docutils literal notranslate"><span class="pre">&lt;Space&gt;q</span></code>, see <a class="reference external" href="https://github.com/akinsho/bufferline.nvim/issues/513">close current buffer</a></p>
<p>另外 <code class="code docutils literal notranslate"><span class="pre">&lt;Space&gt;</span> <span class="pre">+</span> <span class="pre">RightArrow</span></code>可以实现关闭当前buffer右侧的buffer。这个也比较好用.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="o">{</span>
</span><span data-line="2"><span class="w">  </span><span class="s1">&#39;akinsho/bufferline.nvim&#39;</span>,
</span><span data-line="3"><span class="w">  </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;v3.*&quot;</span>,
</span><span data-line="4"><span class="w">  </span><span class="nv">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;nvim-tree/nvim-web-devicons&#39;</span>,
</span><span data-line="5"><span class="w">  </span><span class="nv">keys</span><span class="o">={</span>
</span><span data-line="6"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;Tab&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineCycleNext&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="7"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;S-Tab&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineCyclePrev&lt;CR&gt;&#39;</span>,<span class="w"> </span><span class="o">{}}</span>,
</span><span data-line="8"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;Space&gt;&lt;Right&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineCloseRight&lt;CR&gt;&#39;</span>,<span class="w"> </span><span class="o">{}}</span>,
</span><span data-line="9"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;Space&gt;q&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;:bp &lt;BAR&gt; bd #&lt;CR&gt;&#39;</span>,<span class="w"> </span><span class="o">{}}</span>,
</span><span data-line="10"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;1&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 1&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="11"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;2&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 2&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="12"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;3&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 3&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="13"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;4&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 4&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="14"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;5&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 5&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="15"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;6&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 6&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="16"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;7&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 7&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="17"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;8&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 8&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="18"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;9&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer 9&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="19"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;$&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;Cmd&gt;BufferLineGoToBuffer -1&lt;CR&gt;&#39;</span><span class="o">}</span>,
</span><span data-line="20"><span class="w">  </span><span class="o">}</span>
</span><span data-line="21"><span class="w">  </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="o">()</span>
</span><span data-line="22"><span class="w">    </span>require<span class="o">(</span><span class="s2">&quot;bufferline&quot;</span><span class="o">)</span>.setup<span class="o">()</span>
</span><span data-line="23"><span class="w">  </span>end,
</span><span data-line="24"><span class="o">}</span>,
</span></pre></div>
</div>
</section>
<section id="alpha-nvim">
<h3>alpha-nvim<a class="headerlink" href="#alpha-nvim" title="Link to this heading">¶</a></h3>
<p>这个比较简单，就是开启后的欢迎页面.</p>
<figure class="align-default">
<img alt="alpha-nvim start" src="https://user-images.githubusercontent.com/24906808/133367667-0f73e9e1-ea75-46d1-8e1b-ff0ecfeafeb1.png" />
</figure>
</section>
<section id="tpope">
<h3>tpope大佬系列<a class="headerlink" href="#tpope" title="Link to this heading">¶</a></h3>
<p>主要包括</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tpope/vim-surround">tpope/vim-surround</a> : <code class="code docutils literal notranslate"><span class="pre">di&lt;</span></code>for <code class="code docutils literal notranslate"><span class="pre">&lt;xxx&gt;</span></code></p></li>
<li><p><a class="reference external" href="https://github.com/tpope/vim-fugitive">tpope/vim-fugitive</a> : <code class="code docutils literal notranslate"><span class="pre">:Git</span></code></p></li>
<li><p><a class="reference external" href="https://github.com/tpope/vim-rhubarb">tpope/vim-rhubarb</a> : <code class="code docutils literal notranslate"><span class="pre">:GBrower</span></code></p></li>
<li><p><a class="reference external" href="https://github.com/tpope/vim-sleuth">tpope/vim-sleuth</a> : Automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file</p></li>
</ul>
<p>之前还有一个 <a class="reference external" href="https://github.com/tpope/vim-commentary">vim-commentary</a>, 不过我还是用 <a class="reference external" href="https://github.com/numToStr/Comment.nvim">Comment.nvim</a>替代了。我相信 <code class="code docutils literal notranslate"><span class="pre">lua</span> <span class="pre">is</span> <span class="pre">better</span> <span class="pre">than</span> <span class="pre">vimscript</span></code>(see <a class="reference external" href="https://www.zhihu.com/question/445290918">你们的vim配置都换成lua了吗？</a>.</p>
</section>
<section id="id7">
<h3>toggleterm.nvim<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="thttps://github.com/akinsho/toggleterm.nvim">toggleterm</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">function</span><span class="w"> </span>_G.set_terminal_keymaps<span class="o">()</span>
</span><span data-line="2"><span class="w">  </span><span class="nb">local</span><span class="w"> </span><span class="nv">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="nv">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="o">}</span>
</span><span data-line="3"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;esc&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;C-<span class="se">\&gt;</span>&lt;C-n&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="4"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;jk&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;C-<span class="se">\&gt;</span>&lt;C-n&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="5"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;C-h&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;Cmd&gt;wincmd<span class="w"> </span>h&lt;CR&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="6"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;C-j&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;Cmd&gt;wincmd<span class="w"> </span>j&lt;CR&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="7"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;C-k&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;Cmd&gt;wincmd<span class="w"> </span>k&lt;CR&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="8"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;C-l&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;Cmd&gt;wincmd<span class="w"> </span>l&lt;CR&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="9"><span class="w">  </span>vim.keymap.set<span class="o">(</span><span class="s1">&#39;t&#39;</span>,<span class="w"> </span><span class="s1">&#39;&lt;C-w&gt;&#39;</span>,<span class="w"> </span><span class="o">[[</span>&lt;C-<span class="se">\&gt;</span>&lt;C-n&gt;&lt;C-w&gt;<span class="o">]]</span>,<span class="w"> </span>opts<span class="o">)</span>
</span><span data-line="10">end
</span><span data-line="11">
</span><span data-line="12">--<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="w"> </span>only<span class="w"> </span>want<span class="w"> </span>these<span class="w"> </span>mappings<span class="w"> </span><span class="k">for</span><span class="w"> </span>toggle<span class="w"> </span>term<span class="w"> </span>use<span class="w"> </span>term://*toggleterm#*<span class="w"> </span>instead
</span><span data-line="13">vim.cmd<span class="o">(</span><span class="s1">&#39;autocmd! TermOpen term://* lua set_terminal_keymaps()&#39;</span><span class="o">)</span>
</span></pre></div>
</div>
</section>
<section id="nvim-tree-lua">
<h3>nvim-tree.lua<a class="headerlink" href="#nvim-tree-lua" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/nvim-tree/nvim-tree.lua">nvim-tree.lua</a></p>
<p>其实最早我用的是 <a class="reference external" href="https://github.com/preservim/nerdtree">nerdtree</a> ，但是 <a class="reference external" href="https://github.com/preservim/nerdtree/issues/1280">开发者退休了</a>. （很感谢他的付出）</p>
<p>核心的配置:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">&lt;space&gt;pt</span></code>open tree</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">&lt;space&gt;r</span></code>refresh</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">r</span></code>rename</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">a</span></code>add</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="o">{</span>
</span><span data-line="2"><span class="w">  </span><span class="s1">&#39;nvim-tree/nvim-tree.lua&#39;</span>,
</span><span data-line="3"><span class="w">  </span><span class="nv">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="4"><span class="w">    </span><span class="s1">&#39;nvim-tree/nvim-web-devicons&#39;</span>
</span><span data-line="5"><span class="w">  </span><span class="o">}</span>,
</span><span data-line="6"><span class="w">  </span><span class="nv">opts</span><span class="o">={</span>
</span><span data-line="7"><span class="w">    </span><span class="nv">sort_by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;case_sensitive&quot;</span>,
</span><span data-line="8"><span class="w">    </span><span class="nv">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="9"><span class="w">      </span><span class="nv">adaptive_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>true,
</span><span data-line="10"><span class="w">    </span><span class="o">}</span>,
</span><span data-line="11"><span class="w">    </span><span class="nv">renderer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="12"><span class="w">      </span><span class="nv">group_empty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>true,
</span><span data-line="13"><span class="w">    </span><span class="o">}</span>,
</span><span data-line="14"><span class="w">    </span><span class="nv">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="15"><span class="w">      </span><span class="nv">ignore</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span>
</span><span data-line="16"><span class="w">    </span><span class="o">}</span>,
</span><span data-line="17"><span class="w">    </span><span class="nv">filters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="18"><span class="w">      </span><span class="nv">dotfiles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>false,
</span><span data-line="19"><span class="w">    </span><span class="o">}</span>,
</span><span data-line="20"><span class="w">  </span><span class="o">}</span>,
</span><span data-line="21"><span class="w">  </span><span class="nv">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
</span><span data-line="22"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;pt&#39;</span>,<span class="w"> </span><span class="s1">&#39;:NvimTreeToggle&lt;CR&gt;&#39;</span>,<span class="w"> </span><span class="nv">mode</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">}</span>,
</span><span data-line="23"><span class="w">    </span><span class="o">{</span><span class="s1">&#39;&lt;leader&gt;r&#39;</span>,<span class="w"> </span><span class="s1">&#39;:NvimTreeRefresh&lt;CR&gt;&#39;</span>,<span class="w"> </span><span class="nv">mode</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="o">}</span>
</span><span data-line="24"><span class="w">  </span><span class="o">}</span>
</span><span data-line="25"><span class="o">}</span>
</span></pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>hey!</p>
</div>
</section>
<section id="symbols-outline">
<h3>Symbols-outline<a class="headerlink" href="#symbols-outline" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/simrat39/symbols-outline.nvim">Symbols-outline</a></p>
<p>核心的命令包括:</p>
<div class="table-wrapper colwidths-given docutils container" id="id15">
<table class="docutils align-default" id="id15">
<caption><span class="caption-text">Symbols-outline Commands</span><a class="headerlink" href="#id15" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Commonds</p></th>
<th class="head"><p>Meannings</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">SymbolsOutline</span></code></p></td>
<td><p>Toggle symbols outline</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">SymbolsOutlineOpen</span></code></p></td>
<td><p>Open symbols outline</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">SymbolsOutlineClose</span></code></p></td>
<td><p>Close symbols outline</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="which-key">
<h3>Which-key<a class="headerlink" href="#which-key" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/folke/which-key.nvim">Which-key.nvim</a></p>
<p>这个插件用来看当前的快捷键的后续，比较类似emcas里面的很多。
配置如下，主要需要设置vim.o.timeoutlen = 500.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="o">{</span>
</span><span data-line="2"><span class="w">  </span><span class="s1">&#39;folke/which-key.nvim&#39;</span>,
</span><span data-line="3"><span class="w">  </span><span class="nv">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span>,
</span><span data-line="4"><span class="w">  </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="o">()</span>
</span><span data-line="5"><span class="w">    </span>vim.o.timeout<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span>
</span><span data-line="6"><span class="w">    </span>vim.o.timeoutlen<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">500</span>
</span><span data-line="7"><span class="w">    </span>require<span class="o">(</span><span class="s2">&quot;which-key&quot;</span><span class="o">)</span>.setup<span class="o">({</span>
</span><span data-line="8"><span class="w">      </span>--<span class="w"> </span>your<span class="w"> </span>configuration<span class="w"> </span>comes<span class="w"> </span>here
</span><span data-line="9"><span class="w">      </span>--<span class="w"> </span>or<span class="w"> </span>leave<span class="w"> </span>it<span class="w"> </span>empty<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>settings
</span><span data-line="10"><span class="w">      </span>--<span class="w"> </span>refer<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>section<span class="w"> </span>below
</span><span data-line="11"><span class="w">    </span><span class="o">})</span>
</span><span data-line="12"><span class="w">  </span>end,
</span><span data-line="13"><span class="o">}</span>,
</span></pre></div>
</div>
</section>
<section id="gitsigns-nvim">
<h3>gitsigns.nvim<a class="headerlink" href="#gitsigns-nvim" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/lewis6991/gitsigns.nvim">gitsigns.nvim</a></p>
<p>这个插件带来的好处就是能看到改动。还是比较实用的。</p>
</section>
<section id="null-ls">
<h3>null-ls<a class="headerlink" href="#null-ls" title="Link to this heading">¶</a></h3>
<p>这个插件可以带来很多格式化的帮助，基本上来说非常的重要。</p>
<p>关于配置方面，主要是以下的配置, 更多的信息查看 <a class="reference external" href="https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md">BUILTINS.md</a></p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span data-line="1"> <span class="p">{</span>
</span><span data-line="2">  <span class="s2">&quot;jose-elias-alvarez/null-ls.nvim&quot;</span><span class="p">,</span>
</span><span data-line="3">  <span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;mason.nvim&quot;</span> <span class="p">},</span>
</span><span data-line="4">  <span class="n">opts</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span><span data-line="5">    <span class="kd">local</span> <span class="n">null_ls</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;null-ls&quot;</span><span class="p">)</span>
</span><span data-line="6">    <span class="kr">return</span> <span class="p">{</span>
</span><span data-line="7">      <span class="n">root_dir</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">&quot;null-ls.utils&quot;</span><span class="p">).</span><span class="n">root_pattern</span><span class="p">(</span><span class="s2">&quot;.null-ls-root&quot;</span><span class="p">,</span> <span class="s2">&quot;.neoconf.json&quot;</span><span class="p">,</span> <span class="s2">&quot;Makefile&quot;</span><span class="p">,</span> <span class="s2">&quot;.git&quot;</span><span class="p">),</span>
</span><span data-line="8">      <span class="n">sources</span> <span class="o">=</span> <span class="p">{</span>
</span><span data-line="9">        <span class="c1">-- see https://github.com/jose-elias-alvarez/null-ls.nvim/blob/main/doc/BUILTINS.md</span>
</span><span data-line="10">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">stylua</span><span class="p">,</span>
</span><span data-line="11">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">shfmt</span><span class="p">,</span>
</span><span data-line="12">        <span class="c1">-- python</span>
</span><span data-line="13">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">autopep8</span><span class="p">,</span>
</span><span data-line="14">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">diagnostics</span><span class="p">.</span><span class="n">flake8</span><span class="p">,</span>
</span><span data-line="15">        <span class="c1">-- js</span>
</span><span data-line="16">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">code_actions</span><span class="p">.</span><span class="n">eslint</span><span class="p">,</span>
</span><span data-line="17">        <span class="c1">-- rust</span>
</span><span data-line="18">        <span class="n">null_ls</span><span class="p">.</span><span class="n">builtins</span><span class="p">.</span><span class="n">formatting</span><span class="p">.</span><span class="n">rustfmt</span>
</span><span data-line="19">      <span class="p">},</span>
</span><span data-line="20">    <span class="p">}</span>
</span><span data-line="21">  <span class="kr">end</span><span class="p">,</span>
</span><span data-line="22"><span class="p">},</span>
</span></pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>关于如何配置，选中的文本进行格式化，我本来以为需要配置 <code class="code docutils literal notranslate"><span class="pre">range_formatting</span></code>, 但是根据 <a class="reference external" href="https://www.reddit.com/r/neovim/comments/zv91wz/comment/j1ot75x/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button">这里的解释</a>，可以直接用 <code class="code docutils literal notranslate"><span class="pre">vim.lsp.buf.format</span></code>.</p>
</div>
</section>
</section>
<section id="neovim-fonts">
<h2>Neovim Fonts<a class="headerlink" href="#neovim-fonts" title="Link to this heading">¶</a></h2>
<p>在配置了上述的一些插件后，由于字体的nerd原因，所以需要安装一些必要的字体，才能正确的现实图标。</p>
<p><a class="reference external" href="https://www.nerdfonts.com/font-downloads">nerdfonts</a> 列出了目前可用的常见字体。</p>
<p>操作如下：</p>
</section>
<section id="updates-for-null-ls">
<h2>Updates for null-ls<a class="headerlink" href="#updates-for-null-ls" title="Link to this heading">¶</a></h2>
<p>之前就知道null-ls的作者弃坑了，所以null-ls处于无人维护的状态。</p>
<p>一直想要迁移，后来有了none-ls，等了一段时间，现在 2024-05-05 觉得还是试一下。</p>
<p>整体改动不大，不过有一些formater需要进行修改，而且好像没有看到rust的formater。</p>
</section>
<section id="why-not-coc-nvim">
<h2>Why not coc.nvim<a class="headerlink" href="#why-not-coc-nvim" title="Link to this heading">¶</a></h2>
<p>事实上，我原来也是用coc.nvim， 但是部分功能的缺失(see <a class="reference internal" href="snippets.html"><span class="doc">Snippets System</span></a>，外加开发者对功能的补足不感兴趣)。</p>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Link to this heading">¶</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="lazy-nvim" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>lazy.nvim<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/folke/lazy.nvim">lazy.nvim</a></p>
</div>
<div class="citation" id="kickstart" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>kickstart<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/nvim-lua/kickstart.nvim">kickstart</a></p>
</div>
</div>
<div class="section" /></section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>回到顶部</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="../index.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>上一章</span><div class="title">首页</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="git.html">
      <div class="page-info">
        <span>下一章</span>
        <div class="title">Awesome Git</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2023, hotchilipowder</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/hotchilipowder/my_config" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=5b8091a7"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "hotchilipowder/my_config");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=e2e99575"></script></body>
</html>